@prefix csvw:           <http://www.w3.org/ns/csvw#> .
@prefix qb:             <http://purl.org/linked-data/cube#> .
@prefix dsv:            <https://w3id.org/dsv-ontology#> .
@prefix rdfs:           <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dct:            <http://purl.org/dc/terms/> .
@prefix eg-ca-code:     <http://example.org/cbsCodeBook#> .
@prefix var:            <http://www.example.org/VariablesVocabulary/> .
@prefix dsv:            <https://w3id.org/dsv-ontology#> .
@prefix xsd:            <http://www.w3.org/2001/XMLSchema#> .
@prefix dbpedia-owl:    <http://dbpedia.org/ontology/> .
@prefix wd:             <http://www.wikidata.org/entity/> .
@prefix sdmx-subject:   <http://purl.org/linked-data/sdmx/2009/subject#> .
@prefix sdmx-concept:   <http://purl.org/linked-data/sdmx/2009/concept#> .
@prefix sdmx-attribute: <http://purl.org/linked-data/sdmx/2009/attribute#> .
@prefix sdmx-dimension: <http://purl.org/linked-data/sdmx/2009/dimension#> .
@prefix ddi-au:         <http://rdf-vocabulary.ddialliance.org/cv/AnalysisUnit/2.1.3/#> .
@prefix eg:             <http://example.org/ns#> .


# -- Data Set --------------------------------------------

<http://www.canada-open-data.org/example-aggregated-dataset>        a                               qb:DataSet ;
                                                                    dct:subject                     sdmx-subject:1 ,        # demographic and social statistics
                                                                                                    sdmx-subject:3.2 ,      # regional and small area statistics
                                                                                                    sdmx-subject:1.4 ;      # health
                                                                    dsv:summaryStatistics           [
                                                                        dsv:numberOfRows                "40208"^^xsd:integer ;
                                                                        dsv:numberOfColumns             "5"^^xsd:integer ;
                                                                        dsv:datasetCompleteness         "0.99"^^xsd:float ;
                                                                        dsv:missingValuesFormat         "NA"^^xsd:string
                                                                    ] ;
                                                                    qb:structure                    eg:dsd-ca ;                      
                                                                    sdmx-attribute:statUnit         ddi-au:Group ;
                                                                    sdmx-attribute:unitMeasure      <http://dbpedia.org/resource/Year> .


# -- Data structure definition ----------------------------

eg:dsd-ca                                                           a                               qb:DataStructureDefinition ;
                                                                    qb:component                    [
                                                                        qb:dimension                    <http://www.canada-open-data.org/example-aggregated-dataset/column/refDate> ,
                                                                                                        <http://www.canada-open-data.org/example-aggregated-dataset/column/geo> ,
                                                                                                        <http://www.canada-open-data.org/example-aggregated-dataset/column/ageGroup> ,
                                                                                                        <http://www.canada-open-data.org/example-aggregated-dataset/column/pregnancyOutcomes> ,
                                                                                                        <http://www.canada-open-data.org/example-aggregated-dataset/column/value>
                                                                    ] .


# -- Dimensions -------------------------------------------

<http://www.canada-open-data.org/example-aggregated-dataset/column/refDate>                 a                           rdf:Property ,
                                                                                                                        qb:DimensionProperty ,
                                                                                                                        csvw:Column ;
                                                                                            rdfs:label                  "REF_DATE"@en ;
                                                                                            rdfs:subPropertyOf          sdmx-dimension:refPeriod ;
                                                                                            qb:concept                  sdmx-concept:refPeriod ;
                                                                                            qb:codeList                 eg-ca-code:refDate ;
                                                                                            dsv:summaryStatistics       [
                                                                                                dsv:componentCompleteness   "1.00"^^xsd:float ;
                                                                                                dsv:statisticalDataType     dsv:Ratio ;
                                                                                            ] .

<http://www.canada-open-data.org/example-aggregated-dataset/column/geo>                     a                           rdf:Property ,
                                                                                                                        qb:DimensionProperty ,
                                                                                                                        csvw:Column ;
                                                                                            rdfs:label                  "GEO"@en ;
                                                                                            rdfs:subPropertyOf          sdmx-dimension:refArea ;
                                                                                            qb:concept                  sdmx-concept:refArea ;
                                                                                            qb:codeList                 eg-ca-code:Geo ;
                                                                                            dsv:summaryStatistics       [
                                                                                                dsv:componentCompleteness   "1.00"^^xsd:float ;
                                                                                                dsv:statisticalDataType     dsv:Nominal ;
                                                                                            ] .

<http://www.canada-open-data.org/example-aggregated-dataset/column/ageGroup>                a                           rdf:Property ,
                                                                                                                        qb:DimensionProperty ,
                                                                                                                        csvw:Column ;
                                                                                            rdfs:label                  "Age group"@en ;
                                                                                            rdfs:subPropertyOf          sdmx-dimension:age ;
                                                                                            qb:concept                  sdmx-concept:age ;
                                                                                            qb:codeList                 eg-ca-code:AgeGroup ;
                                                                                            dsv:summaryStatistics       [
                                                                                                dsv:componentCompleteness   "1.00"^^xsd:float ;
                                                                                                dsv:statisticalDataType     dsv:Nominal ;
                                                                                            ] .

<http://www.canada-open-data.org/example-aggregated-dataset/column/pregnancyOutcomes>       a                           rdf:Property ,
                                                                                                                        qb:DimensionProperty ,
                                                                                                                        csvw:Column ;
                                                                                            rdfs:label                  "Pregnancy outcomes"@en ;
                                                                                            rdfs:subPropertyOf          <http://www.canada-open-data.org/properties-dictionary/pregnancyOutcomes> ;
                                                                                            qb:concept                  var:PregnancyOutcome ;
                                                                                            qb:codeList                 eg-ca-code:PregnancyOutcomes ;
                                                                                            dsv:summaryStatistics       [
                                                                                                dsv:componentCompleteness   "1.00"^^xsd:float ;
                                                                                                dsv:statisticalDataType     dsv:Nominal ;
                                                                                            ] .

<http://www.canada-open-data.org/example-aggregated-dataset/column/value>                   a                           rdf:Property ,
                                                                                                                        qb:DimensionProperty ,
                                                                                                                        csvw:Column ;
                                                                                            rdfs:label                  "VALUE"@en ;
                                                                                            rdfs:subPropertyOf          <http://www.canada-open-data.org/properties-dictionary/value> ;
                                                                                            qb:concept                  var:Birth ;
                                                                                            qb:codeList                 eg-ca-code:Value ;
                                                                                            dsv:summaryStatistics       [
                                                                                                dsv:componentCompleteness   "0.97"^^xsd:float ;
                                                                                                dsv:statisticalDataType     dsv:Ratio ;
                                                                                                dsv:missingValuesFormat     "NA"^^xsd:string
                                                                                            ] .

###########################################
# Dataset Canada - Properties
###########################################

<http://www.canada-open-data.org/properties-dictionary/refDate>                 a                       rdf:Property ;
                                                                                rdfs:label              "Property defining the year of an event"@en ;
                                                                                dsv:linksToVariable     var:YearCoverage ;
                                                                                rdfs:domain             var:PregnancyOutcome ;
                                                                                rdfs:range              xsd:gYear .

<http://www.canada-open-data.org/properties-dictionary/geo>                     a                       rdf:Property ;
                                                                                rdfs:label              "Property defining the location of an event"@en ;
                                                                                dsv:linksToVariable     var:GeoLocation ;
                                                                                rdfs:domain             var:PregnancyOutcome ;
                                                                                rdfs:range              xsd:string .

<http://www.canada-open-data.org/properties-dictionary/ageGroup>                a                       rdf:Property ;
                                                                                rdfs:label              "Property defining the age group of the mother"@en ;
                                                                                dsv:linksToVariable     var:Age ;
                                                                                rdfs:domain             var:PregnancyOutcome ;
                                                                                rdfs:range              xsd:string .

<http://www.canada-open-data.org/properties-dictionary/pregnancyOutcomes>       a                       rdf:Property ;
                                                                                rdfs:label              "Property defining the outcome of a pregnancy"@en ;
                                                                                dsv:linksToVariable     var:PregnancyOutcome ;
                                                                                rdfs:domain             var:PregnancyOutcome ;
                                                                                rdfs:range              xsd:string .

<http://www.canada-open-data.org/properties-dictionary/value>                   a                       rdf:Property ;
                                                                                rdfs:label              "Property defining the number of births"@en ;
                                                                                dsv:linksToVariable     var:Birth ;
                                                                                rdfs:domain             var:PregnancyOutcome ;
                                                                                rdfs:range              xsd:int .
